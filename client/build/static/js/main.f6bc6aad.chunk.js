(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);a(96);var n=a(0),s=a.n(n),c=a(21),i=a.n(c),r=(a(101),a(102),a(2)),o=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h1",{children:"About"}),Object(r.jsx)("p",{children:"This website is essentially a checklist for your movies and videogames. Should make for good pracice developing with React, MongoDB, Node.js, and some different APIs."})]})})},l=a(36),d=a.n(l),h=a(50),j=a(30),u=a(15),b=a(19),m=a(22),O=a.n(m),p=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),i=Object(j.a)(c,2),o=i[0],l=i[1],m=Object(n.useState)(""),p=Object(j.a)(m,2),g=p[0],x=p[1],f=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("user: ",a," password: ",o),console.log("loggin in!!!!!!!!"),fetch("http://localhost:5001/api/login",{mode:"cors",credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:o})}).then((function(e){return e.json()})).then((function(e){"logged in"===e.msg?window.location.assign("/"):x(e.msg)})).catch((function(){console.log("something is going wrong!")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:O.a.get("jwt")?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h5",{children:"You are logged in already, would you like to logout?"}),Object(r.jsx)(u.a,{onClick:function(){O.a.remove("jwt"),O.a.remove("id"),window.location.assign("/login")},children:"logout"})]})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h3",{children:"Login to your account"}),Object(r.jsx)("h5",{children:"You are not logged in, you need to log in or register"}),Object(r.jsxs)(b.a,{onSubmit:function(e){f(),e.preventDefault()},children:[Object(r.jsx)("p",{children:g}),Object(r.jsxs)(b.a.Group,{className:"mb-3",id:"email",controlId:"formBasicEmail",children:[Object(r.jsx)(b.a.Label,{children:"Email address"}),Object(r.jsx)("input",{type:"email",value:a,onChange:function(e){return function(e){s(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"name@example.com"})]}),Object(r.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(r.jsx)(b.a.Label,{children:"Password"}),Object(r.jsx)("input",{type:"password",value:o,onChange:function(e){return function(e){l(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"Password"})]}),Object(r.jsx)(u.a,{variant:"primary",type:"submit",children:"Login"})]})]})})})},g=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],c=Object(n.useState)(""),i=Object(j.a)(c,2),o=i[0],l=i[1],m=Object(n.useState)([]),p=Object(j.a)(m,2),g=p[0],x=p[1],f=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("email: ",a," password: ",o),console.log("registering account!!!!!!!!"),fetch("http://localhost:5001/api/members",{mode:"cors",credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:o})}).then((function(e){return e.json()})).then((function(e){console.log("what we gettin back: "+JSON.stringify(e)),e.msg?x(e.msg):window.location.assign("/")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:O.a.get("jwt")?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h5",{children:"You are logged in already, would you like to logout?"}),Object(r.jsx)(u.a,{onClick:function(){O.a.remove("jwt"),O.a.remove("id"),window.location.assign("/register")},children:"logout"})]})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h3",{children:"Create an account!"}),Object(r.jsx)("h5",{children:"You are not logged in, you need to log in or register"}),Object(r.jsxs)(b.a,{onSubmit:function(e){f(),e.preventDefault()},children:[Object(r.jsx)("p",{className:"red",children:g}),Object(r.jsxs)(b.a.Group,{className:"mb-3",id:"email",controlId:"formBasicEmail",children:[Object(r.jsx)(b.a.Label,{children:"Email address "}),Object(r.jsx)("input",{type:"email",value:a,onChange:function(e){return function(e){s(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"name@example.com"})]}),Object(r.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(r.jsx)(b.a.Label,{children:"Password "}),Object(r.jsx)("input",{type:"password",value:o,onChange:function(e){return function(e){l(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"Password"})]}),Object(r.jsx)(u.a,{variant:"primary",type:"submit",children:"Register"})]})]})})})},x=a(65),f=a(18),v=a(53),w=a(54),y=a(23),S=a(62),k=a(61),C=a(170),N=a(171),L=a(162),F=a(161),R=a(71),I=a.n(R),T=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).state={randomNum:null},n}return Object(w.a)(a,[{key:"watched",value:function(e){this.props.watched(e)}},{key:"delete",value:function(e){this.props.delete(e)}},{key:"render",value:function(){var e=this,t=function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}},a=[],n=[],s=0;return this.props.list.forEach((function(c,i){!0===c.watched?a.push(Object(r.jsxs)(C.a,{children:[Object(r.jsx)(N.a,{expandIcon:Object(r.jsx)(I.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:!0===c.watched?Object(r.jsx)(F.a,{className:t.heading,children:Object(r.jsx)("strike",{children:c.title})}):Object(r.jsx)(F.a,{className:t.heading,children:c.title})}),Object(r.jsxs)("div",{className:"listDetails",children:[Object(r.jsx)(L.a,{children:Object(r.jsx)(F.a,{children:c.description})}),Object(r.jsxs)("div",{className:"watchlistButtons",children:[Object(r.jsx)(u.a,{onClick:function(){e.watched(i)},children:"Watched"}),Object(r.jsx)(u.a,{onClick:function(){e.delete(i)},variant:"danger",children:"X"})]})]})]},s)):n.push(Object(r.jsxs)(C.a,{children:[Object(r.jsx)(N.a,{expandIcon:Object(r.jsx)(I.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:!0===c.watched?Object(r.jsx)(F.a,{className:t.heading,children:Object(r.jsx)("strike",{children:c.title})}):Object(r.jsx)(F.a,{className:t.heading,children:c.title})}),Object(r.jsxs)("div",{className:"listDetails",children:[Object(r.jsx)(L.a,{children:Object(r.jsx)(F.a,{children:c.description})}),Object(r.jsxs)("div",{className:"watchlistButtons",children:[Object(r.jsx)(u.a,{onClick:function(){e.watched(i)},children:"Watched"}),Object(r.jsx)(u.a,{onClick:function(){e.delete(i)},variant:"danger",children:"X"})]})]})]},s)),s++})),Object(r.jsxs)(r.Fragment,{children:[n,a]})}}]),a}(s.a.Component),z=a(86),B=a(38),M=a.n(B),E=a(163),P=a(164),D=a(165),A=a(168),W=a(167),G=a(166),J=a(169),Y=Object(E.a)({root:{maxWidth:"80%",margin:"auto",marginBottom:40},media:{backgroundSize:"contain",height:"100%",paddingTop:"100%"}});function q(e){var t,a,n,s=Y();return Object(r.jsxs)(P.a,{className:s.root,children:[Object(r.jsxs)(D.a,{children:[Object(r.jsx)(G.a,{className:s.media,image:null!==(t=e.result.resp1.results[0].image.url)&&void 0!==t?t:"",title:e.result.resp1.results[0].title,height:"1500"}),Object(r.jsxs)(W.a,{children:[Object(r.jsx)(F.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.result.resp1.results[0].title}),Object(r.jsx)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(r.jsxs)("b",{children:["Rating: ",null!==(a=e.result.resp2.ratings.rating)&&void 0!==a?a:""]})}),Object(r.jsx)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:(null!==(n=e.result.resp2.plotSummary)&&void 0!==n?n:"").text})]})]}),Object(r.jsxs)(A.a,{children:[Object(r.jsx)(J.a,{onClick:e.addToList,size:"small",color:"primary",children:"Add to list"}),Object(r.jsx)(J.a,{onClick:e.close,size:"small",color:"secondary",children:"close"})]})]})}var X=a(89),Z=function(e){Object(S.a)(a,e);var t=Object(k.a)(a);function a(){var e;return Object(v.a)(this,a),(e=t.call(this)).openRando=function(){e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{rando:!e.rando})}))},e.addToList=function(){var t,a;e.setState((function(t){var a,n;return Object(f.a)(Object(f.a)({},t),{},{list:[].concat(Object(x.a)(t.list),[{title:null!==(a=e.state.results.resp1.results[0].title)&&void 0!==a?a:e.state.value,watched:!1,picker:!1,description:(null!==(n=t.results.resp2.plotSummary)&&void 0!==n?n:"").text,rating:t.results.resp2.ratings.rating,image:t.results.resp1.results[0].image.url}])})})),e.openRando(),M.a.put("http://localhost:5001/api/movies/watchlist",{title:null!==(t=e.state.results.resp1.results[0].title)&&void 0!==t?t:e.state.value,watched:!1,picker:!1,description:(null!==(a=e.state.results.resp2.plotSummary)&&void 0!==a?a:"").text,rating:e.state.results.resp2.ratings.rating,image:e.state.results.resp1.results[0].image.url},{mode:"cors",withCredentials:!0}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},e.state={value:"",rando:!0,results:"",error:null,list:[],randomNum:null,show:!1,randomMovie:"",listLoading:!0,searchLoading:!1},e.handleChange=e.handleChange.bind(Object(y.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(y.a)(e)),e.openRando=e.openRando.bind(Object(y.a)(e)),e.addToList=e.addToList.bind(Object(y.a)(e)),e.randomizeOn=e.randomizeOn.bind(Object(y.a)(e)),e.watched=e.watched.bind(Object(y.a)(e)),e.delete=e.delete.bind(Object(y.a)(e)),e}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=this;M.a.get("http://localhost:5001/api/movies/watchlist",{mode:"cors",withCredentials:!0}).then((function(t){e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{list:[].concat(Object(x.a)(e.list),Object(x.a)(t.data.watchList)),listLoading:!1})})),console.log(t.data.watchList)}))}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"randomizeOn",value:function(){var e=[];this.state.list.forEach((function(t,a){!1===t.watched&&e.push(a)}));try{this.setState({show:!0,randomMovie:this.state.list[e[Math.floor(Math.random()*e.length)]].title})}catch(t){this.setState({show:!0,randomMovie:"Watchlist empty!"})}}},{key:"watched",value:function(e){console.log(this.state.list[e]);var t=this.state;t.list[e].watched=!t.list[e].watched,this.setState(t),M.a.put("http://localhost:5001/api/movies/watchlist/watched",{list:t.list},{mode:"cors",withCredentials:!0}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"delete",value:function(e){var t=this.state,a=[];t.list.forEach((function(t,n){console.log("x: "+t+" z:"+n+" y:"+e),n!==e&&a.push(t)})),t.list=a,this.setState(t),M.a.put("http://localhost:5001/api/movies/watchlist/watched",{list:t.list},{mode:"cors",withCredentials:!0}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(e){var t=this;this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{searchLoading:!0})})),e.preventDefault();var a={method:"GET",url:"http://localhost:5001/api/movies",params:{q:this.state.value}};M.a.request(a).then((function(e){console.log(e.data),t.setState({results:e.data}),t.setState({rando:!1}),t.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{searchLoading:!1})}))})).catch((function(e){this.setState({error:e}),console.error(e),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{searchLoading:!1})}))}))}},{key:"render",value:function(){var e,t=this.state,a=t.error,n=t.rando,s=t.results,c=t.list,i=t.randomize,o=t.randomMovie,l=t.listLoading,d=t.searchLoading;return a?a.message:e=!1===n&&""!==s?Object(r.jsx)(q,{addToList:this.addToList,close:this.openRando,result:s}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h5",{children:"Click the RANDOMIZER to get a random movie from your watchlist recommended"}),Object(r.jsx)("div",{className:"randomizer",children:l?Object(r.jsx)(z.a,{animation:"border"}):Object(r.jsx)(u.a,{onClick:this.randomizeOn,style:{width:"100%",height:"40%"},size:"lg",variant:"dark",type:"submit",children:"RANDOMIZER "})}),!1===this.state.show?"":Object(r.jsx)("div",{className:"Rresults",children:Object(r.jsx)(X.a,{children:Object(r.jsx)("h4",{children:o})})})]}),Object(r.jsxs)("div",{className:"main",children:[Object(r.jsx)("div",{className:"leftpanel",children:e}),Object(r.jsxs)("div",{className:"rightpanel",children:[Object(r.jsxs)("div",{className:"top",children:[d?Object(r.jsx)(u.a,{onClick:this.handleSubmit,size:"sm",variant:"dark",type:"submit",disabled:!0,children:"Search"}):Object(r.jsx)(u.a,{onClick:this.handleSubmit,size:"sm",variant:"dark",type:"submit",children:"Search"}),Object(r.jsx)("input",{style:{width:"100%"},type:"text",onChange:this.handleChange,id:"exampleFormControlInput1",placeholder:"Search a movie title"})]}),Object(r.jsx)(T,{delete:this.delete,watched:this.watched,randomOn:i,list:c})]})]})}}]),a}(s.a.Component),H=a(74),K=a(45),Q=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:".navlogin",children:Object(r.jsxs)(H.a,{bg:"dark",variant:"dark",children:[Object(r.jsx)(H.a.Brand,{href:"/",children:"Media-List"}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(K.a.Link,{href:"/Login",children:"Login"}),Object(r.jsx)(K.a.Link,{href:"/Register",children:"Register"}),Object(r.jsx)(K.a.Link,{href:"/About",children:"About"})]})]})})})},U=a(88),V=a(11);var $=function(){return Object(r.jsxs)(U.a,{children:[Object(r.jsx)(Q,{}),Object(r.jsxs)(V.c,{children:[Object(r.jsx)(V.a,{path:"/about",children:Object(r.jsx)(o,{})}),Object(r.jsx)(V.a,{path:"/login",children:Object(r.jsx)(p,{})}),Object(r.jsx)(V.a,{path:"/register",children:Object(r.jsx)(g,{})}),Object(r.jsx)(V.a,{path:"/",children:O.a.get("jwt")?Object(r.jsx)(Z,{}):Object(r.jsx)(p,{})})]})]})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,173)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),c(e),i(e)}))};i.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)($,{})}),document.getElementById("root")),_()}},[[134,1,2]]]);
//# sourceMappingURL=main.f6bc6aad.chunk.js.map