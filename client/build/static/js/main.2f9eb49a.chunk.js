(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);n(96);var a=n(0),s=n.n(a),i=n(21),c=n.n(i),r=(n(101),n(102),n(2)),o=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h1",{children:"About"}),Object(r.jsx)("p",{children:"This website is essentially a checklist for your movies and videogames. Should make for good pracice developing with React, MongoDB, Node.js, and some different APIs."})]})})},l=n(36),d=n.n(l),h=n(50),j=n(30),u=n(15),b=n(19),m=n(22),O=n.n(m),g=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),c=Object(j.a)(i,2),o=c[0],l=c[1],m=Object(a.useState)(""),g=Object(j.a)(m,2),p=g[0],x=g[1],f=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("user: ",n," password: ",o),console.log("loggin in!!!!!!!!"),fetch("/api/login",{mode:"cors",credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:o})}).then((function(e){return e.json()})).then((function(e){"logged in"===e.msg?window.location.assign("/"):x(e.msg)})).catch((function(){console.log("something is going wrong!")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:O.a.get("jwt")?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h5",{children:"You are logged in already, would you like to logout?"}),Object(r.jsx)(u.a,{onClick:function(){O.a.remove("jwt"),O.a.remove("id"),window.location.assign("/login")},children:"logout"})]})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h3",{children:"Login to your account"}),Object(r.jsx)("h5",{children:"You are not logged in, you need to log in or register"}),Object(r.jsxs)(b.a,{onSubmit:function(e){f(),e.preventDefault()},children:[Object(r.jsx)("p",{children:p}),Object(r.jsxs)(b.a.Group,{className:"mb-3",id:"email",controlId:"formBasicEmail",children:[Object(r.jsx)(b.a.Label,{children:"Email address"}),Object(r.jsx)("input",{type:"email",value:n,onChange:function(e){return function(e){s(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"name@example.com"})]}),Object(r.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(r.jsx)(b.a.Label,{children:"Password"}),Object(r.jsx)("input",{type:"password",value:o,onChange:function(e){return function(e){l(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"Password"})]}),Object(r.jsx)(u.a,{variant:"primary",type:"submit",children:"Login"})]})]})})})},p=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),c=Object(j.a)(i,2),o=c[0],l=c[1],m=Object(a.useState)([]),g=Object(j.a)(m,2),p=g[0],x=g[1],f=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("email: ",n," password: ",o),console.log("registering account!!!!!!!!"),fetch("/api/members",{mode:"cors",credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:o})}).then((function(e){return e.json()})).then((function(e){console.log("what we gettin back: "+JSON.stringify(e)),e.msg?x(e.msg):window.location.assign("/")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(r.Fragment,{children:O.a.get("jwt")?Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h5",{children:"You are logged in already, would you like to logout?"}),Object(r.jsx)(u.a,{onClick:function(){O.a.remove("jwt"),O.a.remove("id"),window.location.assign("/register")},children:"logout"})]})}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"center",children:[Object(r.jsx)("h3",{children:"Create an account!"}),Object(r.jsx)("h5",{children:"You are not logged in, you need to log in or register"}),Object(r.jsxs)(b.a,{onSubmit:function(e){f(),e.preventDefault()},children:[Object(r.jsx)("p",{className:"red",children:p}),Object(r.jsxs)(b.a.Group,{className:"mb-3",id:"email",controlId:"formBasicEmail",children:[Object(r.jsx)(b.a.Label,{children:"Email address "}),Object(r.jsx)("input",{type:"email",value:n,onChange:function(e){return function(e){s(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"name@example.com"})]}),Object(r.jsxs)(b.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(r.jsx)(b.a.Label,{children:"Password "}),Object(r.jsx)("input",{type:"password",value:o,onChange:function(e){return function(e){l(e.target.value)}(e)},id:"exampleFormControlInput1",placeholder:"Password"})]}),Object(r.jsx)(u.a,{variant:"primary",type:"submit",children:"Register"})]})]})})})},x=n(65),f=n(18),v=n(53),w=n(54),y=n(23),S=n(62),k=n(61),C=n(170),N=n(171),L=n(162),F=n(161),R=n(71),I=n.n(R),T=function(e){Object(S.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(v.a)(this,n),(a=t.call(this,e)).state={randomNum:null},a}return Object(w.a)(n,[{key:"watched",value:function(e){this.props.watched(e)}},{key:"delete",value:function(e){this.props.delete(e)}},{key:"render",value:function(){var e=this,t=function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}},n=[],a=[],s=0;return this.props.list.forEach((function(i,c){!0===i.watched?n.push(Object(r.jsxs)(C.a,{children:[Object(r.jsx)(N.a,{expandIcon:Object(r.jsx)(I.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:!0===i.watched?Object(r.jsx)(F.a,{className:t.heading,children:Object(r.jsx)("strike",{children:i.title})}):Object(r.jsx)(F.a,{className:t.heading,children:i.title})}),Object(r.jsxs)("div",{className:"listDetails",children:[Object(r.jsx)(L.a,{children:Object(r.jsx)(F.a,{children:i.description})}),Object(r.jsxs)("div",{className:"watchlistButtons",children:[Object(r.jsx)(u.a,{onClick:function(){e.watched(c)},children:"Watched"}),Object(r.jsx)(u.a,{onClick:function(){e.delete(c)},variant:"danger",children:"X"})]})]})]},s)):a.push(Object(r.jsxs)(C.a,{children:[Object(r.jsx)(N.a,{expandIcon:Object(r.jsx)(I.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:!0===i.watched?Object(r.jsx)(F.a,{className:t.heading,children:Object(r.jsx)("strike",{children:i.title})}):Object(r.jsx)(F.a,{className:t.heading,children:i.title})}),Object(r.jsxs)("div",{className:"listDetails",children:[Object(r.jsx)(L.a,{children:Object(r.jsx)(F.a,{children:i.description})}),Object(r.jsxs)("div",{className:"watchlistButtons",children:[Object(r.jsx)(u.a,{onClick:function(){e.watched(c)},children:"Watched"}),Object(r.jsx)(u.a,{onClick:function(){e.delete(c)},variant:"danger",children:"X"})]})]})]},s)),s++})),Object(r.jsxs)(r.Fragment,{children:[a,n]})}}]),n}(s.a.Component),z=n(86),B=n(38),M=n.n(B),E=n(163),P=n(164),D=n(165),A=n(168),W=n(167),G=n(166),J=n(169),Y=Object(E.a)({root:{maxWidth:"80%",margin:"auto",marginBottom:40},media:{backgroundSize:"contain",height:"100%",paddingTop:"100%"}});function q(e){var t,n,a,s=Y();return Object(r.jsxs)(P.a,{className:s.root,children:[Object(r.jsxs)(D.a,{children:[Object(r.jsx)(G.a,{className:s.media,image:null!==(t=e.result.resp1.results[0].image.url)&&void 0!==t?t:"",title:e.result.resp1.results[0].title,height:"1500"}),Object(r.jsxs)(W.a,{children:[Object(r.jsx)(F.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.result.resp1.results[0].title}),Object(r.jsx)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:Object(r.jsxs)("b",{children:["Rating: ",null!==(n=e.result.resp2.ratings.rating)&&void 0!==n?n:""]})}),Object(r.jsx)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:(null!==(a=e.result.resp2.plotSummary)&&void 0!==a?a:"").text})]})]}),Object(r.jsxs)(A.a,{children:[Object(r.jsx)(J.a,{onClick:e.addToList,size:"small",color:"primary",children:"Add to list"}),Object(r.jsx)(J.a,{onClick:e.close,size:"small",color:"secondary",children:"close"})]})]})}var X=n(89),Z=function(e){Object(S.a)(n,e);var t=Object(k.a)(n);function n(){var e;return Object(v.a)(this,n),(e=t.call(this)).openRando=function(){e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{rando:!e.rando})}))},e.addToList=function(){var t,n;e.setState((function(t){var n,a;return Object(f.a)(Object(f.a)({},t),{},{list:[].concat(Object(x.a)(t.list),[{title:null!==(n=e.state.results.resp1.results[0].title)&&void 0!==n?n:e.state.value,watched:!1,picker:!1,description:(null!==(a=t.results.resp2.plotSummary)&&void 0!==a?a:"").text,rating:t.results.resp2.ratings.rating,image:t.results.resp1.results[0].image.url}])})})),e.openRando(),M.a.put("/api/movies/watchlist",{title:null!==(t=e.state.results.resp1.results[0].title)&&void 0!==t?t:e.state.value,watched:!1,picker:!1,description:(null!==(n=e.state.results.resp2.plotSummary)&&void 0!==n?n:"").text,rating:e.state.results.resp2.ratings.rating,image:e.state.results.resp1.results[0].image.url},{mode:"cors",withCredentials:!0}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},e.state={value:"",rando:!0,results:"",error:null,list:[],randomNum:null,show:!1,randomMovie:"",listLoading:!0,searchLoading:!1},e.handleChange=e.handleChange.bind(Object(y.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(y.a)(e)),e.openRando=e.openRando.bind(Object(y.a)(e)),e.addToList=e.addToList.bind(Object(y.a)(e)),e.randomizeOn=e.randomizeOn.bind(Object(y.a)(e)),e.watched=e.watched.bind(Object(y.a)(e)),e.delete=e.delete.bind(Object(y.a)(e)),e}return Object(w.a)(n,[{key:"componentDidMount",value:function(){var e=this;M.a.get("/api/movies/watchlist",{mode:"cors",withCredentials:!0}).then((function(t){e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{list:[].concat(Object(x.a)(e.list),Object(x.a)(t.data.watchList)),listLoading:!1})})),console.log(t.data.watchList)}))}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"randomizeOn",value:function(){var e=[];this.state.list.forEach((function(t,n){!1===t.watched&&e.push(n)}));try{this.setState({show:!0,randomMovie:this.state.list[e[Math.floor(Math.random()*e.length)]].title})}catch(t){this.setState({show:!0,randomMovie:"Watchlist empty!"})}}},{key:"watched",value:function(e){console.log(this.state.list[e]);var t=this.state;t.list[e].watched=!t.list[e].watched,this.setState(t),M.a.put("/api/movies/watchlist/watched",{list:t.list},{mode:"cors",withCredentials:!0}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"delete",value:function(e){var t=this.state,n=[];t.list.forEach((function(t,a){console.log("x: "+t+" z:"+a+" y:"+e),a!==e&&n.push(t)})),t.list=n,this.setState(t),M.a.put("/api/movies/watchlist/watched",{list:t.list},{mode:"cors",withCredentials:!0}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}},{key:"handleSubmit",value:function(e){var t=this;this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{searchLoading:!0})})),e.preventDefault();var n={method:"GET",url:"/api/movies",params:{q:this.state.value}};M.a.request(n).then((function(e){console.log(e.data),t.setState({results:e.data}),t.setState({rando:!1}),t.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{searchLoading:!1})}))})).catch((function(e){this.setState({error:e}),console.error(e),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{searchLoading:!1})}))}))}},{key:"render",value:function(){var e,t=this.state,n=t.error,a=t.rando,s=t.results,i=t.list,c=t.randomize,o=t.randomMovie,l=t.listLoading,d=t.searchLoading;return n?n.message:e=!1===a&&""!==s?Object(r.jsx)(q,{addToList:this.addToList,close:this.openRando,result:s}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h5",{children:"Click the RANDOMIZER to get a random movie from your watchlist recommended"}),Object(r.jsx)("div",{className:"randomizer",children:l?Object(r.jsx)(z.a,{animation:"border"}):Object(r.jsx)(u.a,{onClick:this.randomizeOn,style:{width:"100%",height:"40%"},size:"lg",variant:"dark",type:"submit",children:"RANDOMIZER "})}),!1===this.state.show?"":Object(r.jsx)("div",{className:"Rresults",children:Object(r.jsx)(X.a,{children:Object(r.jsx)("h4",{children:o})})})]}),Object(r.jsxs)("div",{className:"main",children:[Object(r.jsx)("div",{className:"leftpanel",children:e}),Object(r.jsxs)("div",{className:"rightpanel",children:[Object(r.jsxs)("div",{className:"top",children:[d?Object(r.jsx)(u.a,{onClick:this.handleSubmit,size:"sm",variant:"dark",type:"submit",disabled:!0,children:"Search"}):Object(r.jsx)(u.a,{onClick:this.handleSubmit,size:"sm",variant:"dark",type:"submit",children:"Search"}),Object(r.jsx)("input",{style:{width:"100%"},type:"text",onChange:this.handleChange,id:"exampleFormControlInput1",placeholder:"Search a movie title"})]}),Object(r.jsx)(T,{delete:this.delete,watched:this.watched,randomOn:c,list:i})]})]})}}]),n}(s.a.Component),H=n(74),K=n(45),Q=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:".navlogin",children:Object(r.jsxs)(H.a,{bg:"dark",variant:"dark",children:[Object(r.jsx)(H.a.Brand,{href:"/",children:"Media-List"}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(K.a.Link,{href:"/Login",children:"Login"}),Object(r.jsx)(K.a.Link,{href:"/Register",children:"Register"}),Object(r.jsx)(K.a.Link,{href:"/About",children:"About"})]})]})})})},U=n(88),V=n(11);var $=function(){return Object(r.jsxs)(U.a,{children:[Object(r.jsx)(Q,{}),Object(r.jsxs)(V.c,{children:[Object(r.jsx)(V.a,{path:"/about",children:Object(r.jsx)(o,{})}),Object(r.jsx)(V.a,{path:"/login",children:Object(r.jsx)(g,{})}),Object(r.jsx)(V.a,{path:"/register",children:Object(r.jsx)(p,{})}),Object(r.jsx)(V.a,{path:"/",children:O.a.get("jwt")?Object(r.jsx)(Z,{}):Object(r.jsx)(g,{})})]})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};c.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)($,{})}),document.getElementById("root")),_()}},[[134,1,2]]]);
//# sourceMappingURL=main.2f9eb49a.chunk.js.map